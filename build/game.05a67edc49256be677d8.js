!function(){"use strict";var t,e={802:function(t,e,n){var r=n(666),i=n.n(r),o=n(807),s=n(830),a=n.n(s);function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.REEL_WIDTH=170,this.SYMBOL_SIZE=150,this.MINIMUM_TIME=2500,this.SLOT_TEXTURES=[o.xEZ.from("./assets/slot-1.png"),o.xEZ.from("./assets/slot-2.png"),o.xEZ.from("./assets/slot-3.png"),o.xEZ.from("./assets/slot-4.png")],this.ACTIVE_SLOT_TEXTURES=[o.xEZ.from("./assets/slot-1-active.png"),o.xEZ.from("./assets/slot-2-active.png"),o.xEZ.from("./assets/slot-3-active.png"),o.xEZ.from("./assets/slot-4-active.png")],this.isRunning=!1,this.reelsById={},this.reelsIds=[],this.historyById={},this.tweening=[],this.finishCount=0,this.balance=70,this.bets=[10,25,50,100],this.currentBet=this.bets[0],this.startPlay=function(){n.balance-n.currentBet<0||n.isRunning||(n.onTweenStart(),n.balance-=n.currentBet,n.balanceText&&(n.balanceText.text="BALANCE: ".concat(n.balance)),n.reelsIds.forEach((function(t,e){var r=n.reelsById[t],i=Math.floor(3*Math.random()),o=r.position+10+5*e+i,s=n.MINIMUM_TIME+600*e+600*i;n.tweenTo({target:o,time:s,reelId:t,position:r.position})})))},this.onTweenStart=function(){n.historyById={},n.isRunning=!0,n.finishCount=0},this.onTweenChange=function(t){},this.onTweenComplete=function(){n.isRunning=!1,n.reelsIds.forEach((function(t,e){var r=n.historyById[t];n.historyById[t]=r.slice(r.length-4,r.length-1)})),n.checkForVerticalCombo(),n.checkForHorizontalCombo()},this.checkForVerticalCombo=function(){for(var t=[],e=0;e<n.reelsIds.length;e++)for(var r=n.reelsIds[e],i=n.reelsById[r],o=0;o<n.historyById[r].length;o++){var s=n.historyById[r][o],a=i.symbolsById[s];t[e]||(t[e]=[]),t[e][o]={symbolId:s,reelId:r,imageIndex:a.imageIndex}}n.hightlightCombos(n.checkCombos(t))},this.checkForHorizontalCombo=function(){for(var t=[],e=0;e<n.reelsIds.length;e++)for(var r=n.reelsIds[e],i=n.reelsById[r],o=0;o<n.historyById[r].length;o++){var s=n.historyById[r][o],a=i.symbolsById[s];t[o]||(t[o]=[]),t[o][e]={symbolId:s,reelId:r,imageIndex:a.imageIndex}}n.hightlightCombos(n.checkCombos(t))},this.checkCombos=function(t){var e=[];return t.forEach((function(t){t.forEach((function(r,i){t.every((function(e){var n=e.imageIndex;return t[0].imageIndex===n}))&&(e.push(r),0===i&&n.rewardUser())}))})),e},this.hightlightCombos=function(t){t.forEach((function(t){var e=t.imageIndex,r=t.symbolId,i=t.reelId;n.reelsById[i].symbolsById[r].sprite.texture=n.ACTIVE_SLOT_TEXTURES[e]}))},this.render=function(){for(var t=new o.W20,e=0;e<3;e++){var r=new o.W20;r.x=e*n.REEL_WIDTH,t.addChild(r);var i={id:a()(),container:r,symbolIds:[],symbolsById:{},position:0,previousPosition:0,blur:new o.u8d.BlurFilter};i.blur.blurX=0,i.blur.blurY=0,r.filters=[i.blur];for(var s=0;s<5;s++){var d=Math.floor(Math.random()*n.SLOT_TEXTURES.length),c=new o.jyi(n.SLOT_TEXTURES[d]);c.y=s*n.SYMBOL_SIZE,c.scale.x=c.scale.y=Math.min(n.SYMBOL_SIZE/c.width,n.SYMBOL_SIZE/c.height),c.x=0;var l={imageIndex:d,sprite:c,id:a()()};i.symbolIds.push(l.id),i.symbolsById[l.id]=l,r.addChild(c)}n.reelsById[i.id]=i,n.reelsIds.push(i.id)}n.app.stage.addChild(t);var h=(n.app.screen.height-3*n.SYMBOL_SIZE)/2,u=(n.app.screen.width-t.width)/2;t.y=h,t.x=u;var f=46,p=180,g=new o.TCu,y=new o.TCu,b=new o.W20,v=new o.pn8({fontFamily:"Arial",fontSize:24,fontWeight:"bold",fill:"#ffffff",strokeThickness:5});n.balanceText=new o.xvT("BALANCE: ".concat(n.balance),v);var I=new o.xvT("SPIN!",v),m=new o.xvT("BET: ".concat(n.currentBet),v);n.bets.forEach((function(t,e){var r=new o.TCu,i=new o.xvT(t,v);i.x=(p-i.width)/2,i.y=(48-i.height)/2,r.addChild(i),r.y=49*e,r.beginFill(15116311,1),r.drawRect(0,0,p,48),b.addChild(r),r.interactive=!0,r.buttonMode=!0,r.addListener("pointerup",(function(){n.currentBet=t,b.visible=!1,m.text="BET: ".concat(t),m.x=(p-m.width)/2}))})),y.beginFill(4493588,1),g.beginFill(4493588,1),g.drawRoundedRect(0,0,160,f,0),y.drawRoundedRect(0,0,p,f,0),b.x=n.app.screen.width-b.width-58,b.y=n.app.screen.height-b.height-4-f,n.balanceText.y=n.app.screen.height-(n.balanceText.height+f)/2,n.balanceText.x=58,g.x=(n.app.screen.width-160)/2,g.y=n.app.screen.height-f,y.y=n.app.screen.height-f,y.x=n.app.screen.width-p-58,I.x=(160-I.width)/2,I.y=(f-I.height)/2,m.x=(p-m.width)/2,m.y=(f-m.height)/2,y.addChild(m),g.addChild(I),n.app.stage.addChild(n.balanceText),n.app.stage.addChild(g),n.app.stage.addChild(y),n.app.stage.addChild(b),g.interactive=y.interactive=!0,g.buttonMode=y.buttonMode=!0,g.zIndex=n.balanceText.zIndex=y.zIndex=b.zIndex=3,b.visible=!1,y.addListener("pointerup",(function(){b.visible=!b.visible})),g.addListener("pointerup",(function(){n.startPlay()})),n.setupTickers()},this.setupTickers=function(){n.app.ticker.add((function(t){var e=Date.now(),r=[];n.tweening.forEach((function(t){var i=Math.min(1,(e-t.start)/t.time);n.reelsById[t.reelId].position=n.lerp(t.position,t.target,n.backout(i)),n.onTweenChange(t),1===i&&(n.reelsById[t.reelId].position=t.target,n.finishCount+=1,n.finishCount===n.reelsIds.length&&n.onTweenComplete(),r.push(t))}));for(var i=0;i<r.length;i++)n.tweening.splice(n.tweening.indexOf(r[i]),1)})),n.app.ticker.add((function(t){n.reelsIds.forEach((function(t){var e=n.reelsById[t];e.blur.blurY=8*(e.position-e.previousPosition),e.previousPosition=e.position,e.symbolIds.forEach((function(r,i){var o,s=e.symbolsById[r].sprite.y;if(e.symbolsById[r].sprite.y=(e.position+i)%e.symbolIds.length*n.SYMBOL_SIZE-n.SYMBOL_SIZE,e.symbolsById[r].sprite.y<0&&s>n.SYMBOL_SIZE){var a=Math.floor(Math.random()*n.SLOT_TEXTURES.length),c=n.SLOT_TEXTURES[a];n.historyById[t]=(o=n.historyById[t]||[],function(t){if(Array.isArray(t))return d(t)}(o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([r]),e.symbolsById[r].imageIndex=a,e.symbolsById[r].sprite.texture=c}}))}))}))},this.tweenTo=function(t){var e=t.target,r=t.time,i=t.reelId,o=t.position,s={id:a()(),reelId:i,target:e,position:o,time:r,start:Date.now()};n.tweening.push(s)},this.lerp=function(t,e,n){return t*(1-n)+e*n},this.backout=function(t){return--t*t*(1.5*t+.5)+1},this.app=e,this.render()}return t.prototype.rewardUser=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;this.balance+=this.currentBet*t,this.balanceText&&(this.balanceText.text="BALANCE: ".concat(this.balance))},t}();function l(t,e,n,r,i,o,s){try{var a=t[o](s),d=a.value}catch(t){return void n(t)}a.done?e(d):Promise.resolve(d).then(r,i)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){l(o,r,i,s,a,"next",t)}function a(t){l(o,r,i,s,a,"throw",t)}s(void 0)}))}}var u=new o.MxU({backgroundColor:13047173,width:800,height:540});function f(){return p.apply(this,arguments)}function p(){return(p=h(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var n=o.aNw.shared;n.add("slot-1","./assets/slot-1.png"),n.add("slot-2","./assets/slot-2.png"),n.add("slot-3","./assets/slot-3.png"),n.add("slot-4","./assets/slot-4.png"),n.add("slot-1-active","./assets/slot-1-active.png"),n.add("slot-2-active","./assets/slot-2-active.png"),n.add("slot-3-active","./assets/slot-3-active.png"),n.add("slot-4-active","./assets/slot-4-active.png"),n.add("background","./assets/background.png"),n.add("top_background","./assets/top_background.png"),n.onComplete.once((function(){t()})),n.onError.once((function(){e()})),n.load()})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}window.onload=h(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:e=o.jyi.from("./assets/background.png"),n=o.jyi.from("./assets/top_background.png"),u.stage.sortableChildren=!0,u.stage.addChild(e),u.stage.addChild(n),n.zIndex=2,e.width=n.width=u.screen.width,e.height=n.height=u.screen.height,console.log("bg",e.width,e.height),console.log("fg",n.width,n.height),document.body.appendChild(u.view),window.addEventListener("resize",(function(){})),new c(u),u.stage.interactive=!0;case 16:case"end":return t.stop()}}),t)})))}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=e,t=[],r.O=function(e,n,i,o){if(!n){var s=1/0;for(l=0;l<t.length;l++){n=t[l][0],i=t[l][1],o=t[l][2];for(var a=!0,d=0;d<n.length;d++)(!1&o||s>=o)&&Object.keys(r.O).every((function(t){return r.O[t](n[d])}))?n.splice(d--,1):(a=!1,o<s&&(s=o));if(a){t.splice(l--,1);var c=i();void 0!==c&&(e=c)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[n,i,o]},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={179:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,o,s=n[0],a=n[1],d=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(d)var l=d(r)}for(e&&e(n);c<s.length;c++)o=s[c],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(l)},n=self.webpackChunkslots=self.webpackChunkslots||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var i=r.O(void 0,[4],(function(){return r(802)}));i=r.O(i)}();